<h2 class="page-header">List</h2>

<np-tabs>
  <np-tab title="Documentation">
    <np-card>
      <np-card-body>
        <b>Module to import</b>
        <div>
          <pre><code [innerText]="importText"></code></pre>
        </div>
      </np-card-body>
    </np-card>
    <np-card>
      <np-card-body>
        <b>HTML</b>
        <div>
          <pre><code [innerText]="htmlText"></code></pre>
        </div>
        <b>For server side operation</b>
        <div>
          <pre><code [innerText]="serverSideHtmlText"></code></pre>
        </div>
      </np-card-body>
    </np-card>
    <np-card>
      <np-card-body>
        <table class="np-table">
          <tr>
            <th>Property</th>
            <th>Description</th>
            <th>Type</th>
            <th>Default</th>
          </tr>
          <tr>
            <td>header</td>
            <td>Header of list as plain text or html string</td>
            <td>string</td>
            <td></td>
          </tr>
          <tr>
            <td>items</td>
            <td>Array of items</td>
            <td>any[]</td>
            <td>false</td>
          </tr>
          <tr>
            <td>itemTemplate</td>
            <td>Template to display item, with variable let-item="item"</td>
            <td>TemplateRef&lt;any&gt;</td>
            <td></td>
          </tr>
          <tr>
            <td>selectionMode</td>
            <td>Set selection mode as 'single' or 'multiple'</td>
            <td>string</td>
            <td></td>
          </tr>
          <tr>
            <td>valueKey</td>
            <td>Set Unique key property name of the item</td>
            <td>string</td>
            <td></td>
          </tr>
          <tr>
            <td>selection</td>
            <td>Get/Set selected items</td>
            <td>any[]</td>
            <td></td>
          </tr>
          <tr>
            <td>height</td>
            <td>Set height of list in px</td>
            <td>number</td>
            <td></td>
          </tr>
          <tr>
            <td>orderBy</td>
            <td>Set order by property</td>
            <td>string</td>
            <td></td>
          </tr>
          <tr>
            <td>orderDir</td>
            <td>
              Set order direction 'asc' or 'desc'. Default value is 'asc'.
              <br />
              If data is type of string[], then only use orderDir.
            </td>
            <td>string</td>
            <td></td>
          </tr>
          <tr>
            <td>showTiles</td>
            <td>Show list as tiles</td>
            <td>boolean</td>
            <td>false</td>
          </tr>
          <tr>
            <td>columnSize</td>
            <td>Set column size for tiles view, based on grid layout system</td>
            <td>number</td>
            <td>4</td>
          </tr>
          <tr>
            <td>isServerOperations</td>
            <td>Set true if fetching data from server</td>
            <td>boolean</td>
            <td>false</td>
          </tr>
          <tr>
            <td>pageSize</td>
            <td>Set pagesize for server side operation</td>
            <td>number</td>
            <td>10</td>
          </tr>
          <tr>
            <td>totalItems</td>
            <td>
              Set total items for list, update it when fetching data in
              <b>onPageChange</b> method
            </td>
            <td>number</td>
            <td>0</td>
          </tr>
          <tr>
            <td>styleClass</td>
            <td>Add extra class to component</td>
            <td>string</td>
            <td></td>
          </tr>
          <tr>
            <td>inputId</td>
            <td>Set id attribute</td>
            <td>string</td>
            <td></td>
          </tr>
        </table>
      </np-card-body>
    </np-card>
    <np-card>
      <np-card-body>
        <table class="np-table">
          <tr>
            <th>Method</th>
            <th>Description</th>
            <th>Parameters</th>
          </tr>
          <tr>
            <td>onPageChange(options: any)</td>
            <td>
              Callback event on page change. Fetch total items count from server
              and update
              <b>totalItems</b>.<br />
              Fetch data based on options and assign to <b>items</b>.
              <div>
                <pre><code [innerText]="serverSideCtrlText"></code></pre>
              </div>
            </td>
            <td>&#123;"currentPage":1,"pageSize":10&#125;</td>
          </tr>
          <tr>
            <td>onClick(item: any)</td>
            <td>Callback to click event on node</td>
            <td>item : any</td>
          </tr>
          <tr>
            <td>onSelect(item: any)</td>
            <td>Callback event on selecting item</td>
            <td>item: any</td>
          </tr>
          <tr>
            <td>onDeselect(item: any)</td>
            <td>Callback event on deselecting item</td>
            <td>item: any</td>
          </tr>
        </table>
      </np-card-body>
    </np-card>
    <np-card>
      <np-card-body>
        <table class="np-table">
          <tr>
            <th>Api</th>
            <th>Description</th>
            <th>Parameters</th>
          </tr>
          <tr>
            <td>refresh()</td>
            <td>
              Refresh data by calling method <b>onPageChange</b> again. Only
              used for server side operations.
            </td>
            <td></td>
          </tr>
          <tr>
            <td>selectAll()</td>
            <td>Select all</td>
            <td></td>
          </tr>
          <tr>
            <td>deselectAll()</td>
            <td>Clear all selected items</td>
            <td></td>
          </tr>
        </table>
      </np-card-body>
    </np-card>
  </np-tab>
  <np-tab title="Examples">
    <fieldset>
      <legend>Basic list with height</legend>
      <np-list
        [items]="items"
        [itemTemplate]="list1Template"
        [height]="200"
        [orderBy]="'name'"
        [orderDir]="'asc'"
        [header]="'Employee List'"
        (onClick)="onClick($event)"
      >
      </np-list>

      <ng-template let-item="item" #list1Template>
        Name: {{ item.name }},<br />
        Age: {{ item.age }}
      </ng-template>
    </fieldset>

    <fieldset>
      <legend>List with selection</legend>

      <np-list
        [items]="items"
        [itemTemplate]="list2Template"
        [selectionMode]="'multiple'"
        [height]="200"
        [(selection)]="selection1"
        [styleClass]="'myClass'"
        #list2
      >
      </np-list>

      <ng-template let-item="item" #list2Template>
        Name: <b>{{ item.name }}</b
        >,<br />
        Age: <b>{{ item.age }}</b>
      </ng-template>

      <div class="np-btn-group">
        <button type="button" class="np-btn" (click)="getSelectedItems()">
          Get selected items
        </button>
        <button type="button" class="np-btn" (click)="selectItems()">
          Set selected items
        </button>
        <button type="button" class="np-btn" (click)="selectAll()">
          Select All
        </button>
        <button type="button" class="np-btn" (click)="deselectAll()">
          Deselect all
        </button>
      </div>
    </fieldset>

    <fieldset>
      <legend>Tiles view</legend>
      <np-list
        [items]="items"
        [showTiles]="true"
        [itemTemplate]="TileTemplate"
        [height]="300"
        [header]="'Employee List'"
        (onClick)="onClick($event)"
      >
      </np-list>

      <ng-template let-item="item" #TileTemplate>
        Id: {{ item.id }},<br />
        Name: {{ item.name }},<br />
        Age: {{ item.age }}
      </ng-template>
    </fieldset>

    <fieldset>
      <legend>Tiles view with server side data with valueKey</legend>
      <np-list
        [items]="tilesView2"
        [showTiles]="true"
        [columnSize]="6"
        [itemTemplate]="TileTemplate2"
        [selectionMode]="'single'"
        [(selection)]="selection2"
        [height]="300"
        [header]="'Product List'"
        [isServerOperations]="true"
        [totalItems]="tilesViewTotal2"
        [pageSize]="10"
        [valueKey]="'ProductID'"
        (onPageChange)="onLoadData($event)"
      >
      </np-list>
      <p>Selected: {{ selection2 | json }}</p>
      <ng-template let-item="item" #TileTemplate2>
        Name: {{ item.ProductName }},<br />
        Unit price: {{ item.UnitPrice }},<br />
        In stock: {{ item.UnitsInStock }}
      </ng-template>
    </fieldset>
  </np-tab>
</np-tabs>
